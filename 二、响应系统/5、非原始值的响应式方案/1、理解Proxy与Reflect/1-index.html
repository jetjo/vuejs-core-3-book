<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Reflect的作用</title>
  </head>
  <body>
    <script type="module">
      const target = {
        /* foo: {
          get() {
            return this.bar
          }
        } */
        get foo() {
          return this.bar
        }
      }

      const py1 = new Proxy(target, {
        get(target, key, receiver) {
          console.log(`读取py1.${key}`)
          return target[key]
        }
      })

      const py2 = new Proxy(target, {
        get(target, key, receiver) {
          console.log(`读取py2.${key}`)
          //   假如target[key]是一个getter,
          // 那么使用Reflect并传递receiver可以进一步
          //   对getter中的this进行拦截代理
          return Reflect.get(target, key, receiver)
        }
      })

      py1.foo
      py2.foo
    </script>
  </body>
</html>
